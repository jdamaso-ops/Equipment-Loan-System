<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Equipment Loan System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/admin-dashboard.js"></script>

</head>
<body>
    <div class="container">
        <header>
            <h1>Admin Dashboard</h1>
            <p>Equipment Loan Management</p>
            <button type="submit" id="adminLogoutBtn" class="btn-small mt-15">Logout</button>
        </header>

        <nav class="admin-nav">
            <div class="mt-4 border-t border-white/20 pt-3 flex flex-wrap gap-2 text-sm font-medium">
                <button type="button" class="nav-btn active rounded-md bg-white/20 px-4 py-2" data-tab="overview">
                    Overview
                </button>
                <button type="button" class="nav-btn rounded-md px-4 py-2 hover:bg-white/10" data-tab="loans">
                    Active Loans
                </button>
                <button type="button" class="nav-btn rounded-md px-4 py-2 hover:bg-white/10" data-tab="equipment">
                    Equipment
                </button>
                <button type="button" class="nav-btn rounded-md px-4 py-2 hover:bg-white/10" data-tab="students">
                    Students
                </button>
                <button type="button" class="nav-btn rounded-md px-4 py-2 hover:bg-white/10" data-tab="reports">
                    Reports
                </button>
            </div>
        </nav>

        <main>
            <!-- Overview Tab -->
            <section id="overviewTab" class="tab-content active">
                <h2>Dashboard Overview</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Equipment</h3>
                        <p id="totalEquipment" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Equipment On Loan</h3>
                        <p id="equipmentOnLoan" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Overdue Items</h3>
                        <p id="overdueItems" class="stat-number warning">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Active Students</h3>
                        <p id="activeStudents" class="stat-number">0</p>
                    </div>
                </div>

                <h3>Recent Activity</h3>
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Student</th>
                            <th scope="col">Equipment</th>
                            <th scope="col">Action</th>
                            <th scope="col">Date</th>
                        </tr>
                    </thead>
                    <tbody id="recentActivityBody">
                        <tr><td colspan="4">Loading...</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Active Loans Tab -->
            <section id="loansTab" class="tab-content">
                <h2>Active Loans Management</h2>
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Student</th>
                            <th scope="col">Equipment</th>
                            <th scope="col">Due Date</th>
                            <th scope="col">Status</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="loansTableBody">
                        <tr><td colspan="5">Loading...</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Equipment Tab -->
            <section id="equipmentTab" class="tab-content">
                <h2>Equipment Inventory</h2>
                <button type="submit" class="btn-primary mb-20 width: auto;" onclick="openAddEquipmentModal()">+ Add Equipment</button>
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Type</th>
                            <th scope="col">Serial/ID</th>
                            <th scope="col">Status</th>
                            <th scope="col">Last Maintenance</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="equipmentTableBody">
                        <tr><td colspan="5">Loading...</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Students Tab -->
            <section id="studentsTab" class="tab-content">
                <h2>Student Accounts</h2>
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Active Loans</th>
                            <th scope="col">Joined</th>
                        </tr>
                    </thead>
                    <tbody id="studentsTableBody">
                        <tr><td colspan="4">Loading...</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Reports Tab -->
            <section id="reportsTab" class="tab-content">
                <h2>Reports &amp; Analytics</h2>
                <div class="report-section">
                    <h3>Loan Reports</h3>
                    <button type="submit" class="btn-primary width: auto;" onclick="generateLoanReport()">Generate Loan Report</button>
                    <div id="loanReportContainer"></div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2026 Josef Michael Damaso. Equipment Loan System. All rights reserved. </p>
        </footer>
    </div>

    <!-- Modal for adding equipment -->
    <div id="equipmentModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeAddEquipmentModal()">&times;</span>
            <h2>Add New Equipment</h2>
            <form id="addEquipmentForm">
                <div class="form-group">
                    <label for="newEquipType">Type:</label>
                    <input type="text" id="newEquipType" required>
                </div>
                <div class="form-group">
                    <label for="newEquipId">Serial/ID:</label>
                    <input type="text" id="newEquipId" required>
                </div>
                <div class="form-group">
                    <label for="newEquipStatus">Status:</label>
                    <select id="newEquipStatus" required>
                        <option value="Available">Available</option>
                        <option value="On Loan">On Loan</option>
                        <option value="Maintenance">Maintenance</option>
                    </select>
                </div>
                <button type="submit" class="btn-primary">Add Equipment</button>
            </form>
        </div>
    </div>
</body>
</html>